<!DOCTYPE html>
<html>
	<head>
		<title>MyGames Registrierung</title>
	</head>
	<div id="bg">
		<div class="module">
		  <ul>
			<li class="tab activeTab"><img src="https://i.imgur.com/Fk1Urva.png" alt="" class="icon"/></li>
			<li class="tab" ><img src="https://cdn1.iconfinder.com/data/icons/ios-11-glyphs/30/lock-512.png" alt="" class="icon"/></li>
			<li class="tab" ><img src="https://i.imgur.com/34Q50wo.png" alt="" class="icon"/></li>
			<li class="tab" ><img src="https://i.imgur.com/LCCJ06E.png" alt="" class="icon"/></li>
		  </ul>
		  
		  <form class="form" action="register2.html">
			<input type="text" placeholder="Benutzername" 
			class="textbox" required="" id="userbox" 
			onkeyup="precheckUsername()" minlength="5" 
			maxlength="15" onchange="precheckUsername()" 
			title="5-15 Zeichen"  
			oninvalid="this.setCustomValidity('Der Benutzername muss zwischen 5 und 15 Zeichen lang sein.')"
			oninput="this.setCustomValidity('')"/>
			<input type="text" placeholder="Vorname" class="textbox" maxlength="40" id="firstname" required="" onchange="updateNameFields0()" onkeyup="updateNameFields0()"
			title="Maximal 40 Zeichen"  
			oninvalid="this.setCustomValidity('Du hast keinen Vornamen? Bitte kontaktiere den Support.')"
			oninput="this.setCustomValidity('')"/>
			<input type="text" placeholder="Nachname" class="textbox" maxlength="40" id="lastname" required="" onchange="updateNameFields1()" onkeyup="updateNameFields1()"
			title="Maximal 40 Zeichen"  
			oninvalid="this.setCustomValidity('Du hast keinen Nachnamen? Bitte kontaktiere den Support.')"
			oninput="this.setCustomValidity('')"/>
			<input type="email" placeholder="Email" class="textbox" minlength="6" id="mail" onkeyup="updateMailField()" onchange="updateMailField()" required=""/>
			<input type="submit" value="Weiter" class="button"/>
		  </form>
		</div>
	  </div>
	  <link rel="stylesheet" href="css/stylesheet_register.css">
	  <script>
		  function precheckUsername(){
			  	if (document.getElementById("userbox").value!=""&&document.getElementById("userbox").value.length>4){
				let isAvailable = true	  
				if (!isAvailable){
					document.getElementById("userbox").style.border = "red 3px solid"
				}
				else {
					document.getElementById("userbox").style.border = "#90c843 3px solid"
					
					
				}
			}else if (document.getElementById("userbox").value!=""){
				document.getElementById("userbox").style.border = "red 3px solid"
			}else {
				document.getElementById("firstname").style.border = "rgba(0,0,0,.3) 3px solid"
			}
		  }
	  </script>
	  <script>
		  function updateNameFields0(){
			if (document.getElementById("firstname").value!=""){
				document.getElementById("firstname").style.border = "#90c843 3px solid"
			}else {
				document.getElementById("firstname").style.border = "rgba(0,0,0,.3) 3px solid"
			}
		  }
		  function updateNameFields1(){
			if (document.getElementById("lastname").value!=""){
				document.getElementById("lastname").style.border = "#90c843 3px solid"
			}else {
				document.getElementById("lastname").style.border = "rgba(0,0,0,.3) 3px solid"
			}
		  }
	  </script>
	  <script>
		  function updateMailField(){
			let regex = /^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/
			regex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
			if (document.getElementById("mail").value.match(regex)!=null && document.getElementById("mail").value.length>=6){
				document.getElementById("mail").style.border = "#90c843 3px solid"
			
			}else {
				if (document.getElementById("mail").value!=""){
					document.getElementById("mail").style.border = "red 3px solid"
				
				}else {
					document.getElementById("mail").style.border = "rgba(0,0,0,.3) 3px solid"
					
					
				}
			}
		  }

	  </script>
</html>
